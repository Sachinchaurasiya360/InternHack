model Hackathon {
  id                     String                  @id @default(uuid())
  slug                   String                  @unique
  title                  String
  tagLine                String
  logo                   String?
  banner                 String?
  registeredStudentCount Int                     @default(0)
  totalRounds            Int?
  eligibility            String?                 @db.Text
  description            String?                 @db.Text
  hackathonStartDate     DateTime?
  hackathonEndDate       DateTime?
  registrationStartDate  DateTime?
  registrationEndDate    DateTime?
  hackathonMode          RoundMode
  location               String?
  organiserContactNo     String?
  organiserName          String
  organiserEmail         String?
  websiteUrl             String?
  discordUrl             String?
  visibility             Visibility              @default(PUBLIC)
  applicationCount       Int                     @default(0)
  hackathonPictures      String[]
  maxTeamSize            Int?
  minTeamSize            Int?
  createdBy              User                    @relation("UserCreatedHackathons", fields: [userId], references: [id])
  userId                 String
  faq                    HackathonFaq[]
  hackathonStatus        hackathonStatus
  Prizes                 Prize[]
  RegisteredTeam         Team[]
  rounds                 Round[]
  participatedTeam       ParticipatedHackathon[]
  application            HackathonApplication[]
  @@index([id])
}

model HackathonFaq {
  id                String    @id @default(uuid())
  question          String?
  answer            String?
  createHackathon   Hackathon @relation(fields: [createHackathonId], references: [id], onDelete: Cascade)
  createHackathonId String
}

model Prize {
  id                 String    @id @default(uuid())
  title              String
  description        String
  prizeAmount        String?
  prizeType          prizeType
  position           Int
  categoryName       String?
  hackathon          Hackathon @relation(fields: [createdHackathonId], references: [id], onDelete: Cascade)
  createdHackathonId String

  @@index([createdHackathonId])
}

model ParticipatedHackathon {
  id          String    @id @default(uuid())
  hackathon   Hackathon @relation(fields: [hackathonId], references: [id])
  hackathonId String
  user        User     @relation(fields: [userId], references: [id])
  userId      String
}

model Team {
  id          String    @id @default(uuid())
  teamName    String
  teamCode    String   @unique
  projectName String?
  hackathon   Hackathon @relation(fields: [hackathonId], references: [id])
  hackathonId String
  members     User[]
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  @@index([teamCode])
}

model HackathonApplication {
  id          String            @id @default(uuid())
  status      applicationStatus
  submittedAt DateTime
  user        User              @relation(fields: [userId], references: [id])
  userId      String
  hackathon   Hackathon         @relation(fields: [hackathonId], references: [id])
  hackathonId String

 
  @@index([hackathonId])
}
